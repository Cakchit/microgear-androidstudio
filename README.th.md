#Microgear-android -----------microgear-android คือ client library สำหรับ Android Studio ที่ทำหน้าที่เป็นตัวกลางในการเชื่อมโยง application code เข้ากับบริการของ netpie platform เพื่อการพัฒนา IOT application รายละเอียดเกี่ยวกับ netpie platform สามารถศึกษาได้จาก http://netpie.io##การติดตั้ง-----------<br/>##ตัวอย่างการใช้งาน-----------```javaMicrogear microgear = new Microgear(this);EventListener eventListener = new EventListener();String appid = "APPID";String key = "KEY";String secret = "SECRET";microgear.connect(appid,key,secret);microgear.setalias("Mygear");microgear.chat("Mygear","Hello World");eventListener.setConnectEventListener(new EventListener.OnServiceConnect() {   	public void onConnect(Boolean status) {		Log.i(“connect”,”Connected”);   	}});eventListener.setMessageEventListener(new EventListener.OnMessageReceived() {   	public void onMessage(String topic, String message) {       		Log.i("Message",topic+" : "+message);   	}});```##การใช้งาน Library-----------###Microgear-----------**microgear.connect(appid, key, secret);**  การ Connect สำหรับเริ่มต้นการทำงาน microgear จะต้องทำการเชื่อมต่อไปที่ NETPIEarguments* *appid* `string` - คือกลุ่มของ application ที่ microgear จะทำการเชื่อมต่อ* *key* `string` - เป็น key สำหรับ gear ที่จะรัน ใช้ในการอ้างอิงตัวตนของ gear*  *secret* `string` - เป็น secret ของ key ซึ่งจะใช้ประกอบในกระบวนการยืนยันตัวตน<br/>**microgear.publish(topic, message,qos,retained);**  การ Publish ในกรณีที่ต้องการส่งข้อความแบบไม่เจาะจงผู้รับ สามารถใช้ฟังชั่น publish ไปยัง topic ที่กำหนดได้ ซึ่งจะมีแต่ microgear ที่ subscribe topoic นี้เท่านั้น ที่จะได้รับข้อความarguments* *topic* `string` - ชื่อของ topic ที่ต้องการจะส่งข้อความไปถึง * *message* `string` - ข้อความ* *qos* `int` - การจอง Resource ในระบบ* *retained* `Boolean` - ให้ retain ข้อความไว้หรือไม่ default เป็น false<br/>**microgear.subscribe(topic);**  การ Subscribe ในการทำงาน microgear อาจจะมีความสนใจ topic ใดเป็นการเฉพาะ เราสามารถใช้ฟังก์ชั่น subscribe() ในการบอกรับ message ของ topic นั้นได้ และหาก topic นั้นเคยมีการ retain ข้อความไว้ microgear จะได้รับข้อความนั้นทุกครั้งที่ subscribe topicarguments* *topic* `string` - ชื่อของ topic ที่ต้องการจะรอรับข้อความ<br/>**microgear.unsubscribe(topic);**  การยกเลิกการ subscribearguments* *topic* `string` - ชื่อของ topic ที่ไม่ต้องการจะรอรับข้อความ<br/>**microgear.setalias(name);**  การตั้งชื่อ โดย microgear สามารถตั้งนามแฝงของตัวเองได้ ซึ่งสามารถใช้เป็นชื่อให้คนอื่นเรียกในการใช้ฟังก์ชั่น chat() และชื่อที่ตั้งในโค้ด จะไปปรากฎบนหน้าจัดการ key บนเว็บ netpie.io อย่างอัตโนมัติarguments* *name* `string` - ชื่อของ microgear นี้<br/>**microgear.chat(name,message);** การ chat โดย microgear สามารถส่งข้อความแบบเจาะจงถึงผู้รับด้วยการระบุ name ที่ microgear ตัวอื่นเคย setalias ไว้arguments* *name* `string` - ชื่อของ microgear ที่ต้องการจะส่งข้อความไปถึง * *message* `string` - ข้อความ<br/>**microgear.disconnect();** การ Disconnect หยุดเชื่อมต่อกับ netpie###Events-----------Application ที่รันบน microgear จะมีการทำงานในแบบ event driven คือเป็นการทำงานตอบสนองต่อ event ต่างๆ ด้วยการเขียน callback function ขึ้นมารองรับในลักษณะนี้```javaEventListener eventListener = new EventListener();```<br/>**Event: 'connected'**อีเว้นท์นี้ จะเกิดขึ้นเมื่อ microgear เชื่อมต่อกับ netpie สำเร็จ```javaeventListener.setConnectEventListener(new EventListener.OnServiceConnect() {	@Override   	public void onConnect(Boolean status) {		if(status == true){			Log.i("Connected","Now I'm connected with netpie");		}		else{			Log.i("NotConnect","Can't connect to netpie")		}	}});```arguments* *status* `boolean` - สถานะการเชื่อมต่อ<br/>**Event: 'closed'** อีเว้นท์นี้จะเกิดขึ้นเมื่อ microgear ตัดการเชื่อมต่อกับ netpie```javaeventListener.setDisconnectEventListener(new EventListener.OnClose() {   	@Override   	public void onDisconnect(Boolean status) {       		Log.i("Disconnect","Disconnect")   	}});```arguments* *status* `boolean` - สถานะการเชื่อมต่อ<br/>**Event: 'message'** อีเว้นท์นี้จะเกิดเมื่อมี message เข้ามา จะเกิด event นี้ขึ้น พร้อมกับส่งผ่านข้อมูลเกี่ยวกับ message นั้นมาทาง argument ของ callback function```javaeventListener.setMessageEventListener(new EventListener.OnMessageReceived() {   	public void onMessage(String topic, String message) {		Log.i("Message",topic+" "+message)   	}});```arguments* *topic* `string` - หัวข้อของข้อความที่เข้ามา* *message* `string` - ข้อความที่เข้ามา<br/>**Event: 'present'** อีเว้นท์นี้จะเกิดขึ้นเมื่อมี microgear ใน appid เดียวกัน online เข้ามาเชื่อมต่อ netpie```javaeventListener.setPresentEventListener(new EventListener.OnPresent() {   	public void onPresent(String name) {		Log.i("Present",name+ "become online");  	}});```arguments*name* `string` - ชื่อของ microgear ใน appid เดียวกันที่ online<br/>**Event: 'absent'** อีเว้นท์นี้จะเกิดขึ้นเมื่อมี microgear ใน appid เดียวกัน offline หายไป```javaeventListener.setAbsentEventListener(new EventListener.OnAbsent() {   	public void onAbsent(String name) {		Log.i("Absent",name+ "become offline");   	}});```arguments* *name* `string` - ชื่อของ microgear ใน appid เดียวกันที่ offline<br/>**Event: 'error'** อีเว้นท์นี้จะเกิดขึ้นเมื่อมี error ขึ้นภายใน microgear```javaeventListener.setOnException(new EventListener.OnException() {   	public void onException(String error) {		Log.i("Error",error);   	}});```arguments* *error* `string` - ข้อความที่แสดง error